<div class="container">
    <app-admin-navbar></app-admin-navbar>
    <div class="row mt-2">
        <p-table #dt [rows]="5" [paginator]="true" [rowHover]="true" dataKey="id" 
            [value]="products">
            <ng-template pTemplate="header">
                <tr>
                    <th>Ürünler</th>
                    <th pSortableColumn="productName">Ürün ismi<p-sortIcon field="productName"></p-sortIcon></th>
                    <th pSortableColumn="brandName">Marka<p-sortIcon field="brandName"></p-sortIcon></th>
                    <th pSortableColumn="categoryName">Kategori<p-sortIcon field="categoryName"></p-sortIcon></th>
                    <th pSortableColumn="price">Fiyat<p-sortIcon field="price"></p-sortIcon></th>
                    <th>İşlemler</th>
                </tr>
            </ng-template>
            <ng-template pTemplate="body" let-product>
                <tr>
                    <td><img [src]="product.images.length !==0 ? imageUrl + product.images[0]:imageUrl" width="50px" height="50px"> </td>
                    <td>{{product.productName}}</td>
                    <td>{{product.brandName}}</td>
                    <td>{{product.categoryName}} </td>
                    <td>{{product.price}} TL </td>
                     <td>
                        <button (click)="setSelectedProduct(product)" pButton pRipple icon="pi pi-pencil" style="margin-right:10px;" class="p-button-rounded p-button-success"
                        data-bs-toggle="modal" data-bs-target=".bd-example-modal-lg">
                    </button>
                    
                         <button  pButton pRipple icon="pi pi-trash" class="p-button-rounded p-button-warning"
                         (click)="deleteProduct(product)"></button>
                        </td> 
                        
                    </tr>
                </ng-template>
                <ng-template pTemplate="summary">
                    <div class="p-d-flex p-ai-center p-jc-between">
                        Toplamda {{products ? products.length : 0 }} ürün var.
                    </div>
                </ng-template>
            </p-table>
            
        </div>
    </div>
    <app-product-edit [productForUpdate]="selectedProduct"></app-product-edit>